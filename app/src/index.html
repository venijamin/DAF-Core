<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Board Management</title>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .board-item { border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; }
        .item-list { margin-left: 20px; }
    </style>
</head>
<body>
<h1>Board Management</h1>

<div id="board-list" hx-get="/api/boards/" hx-trigger="load">
    Loading boards...
</div>

<form hx-post="/api/boards/" hx-target="#board-list" hx-swap="innerHTML">
    <input type="text" name="name" placeholder="New board name" required>
    <button type="submit">Add Board</button>
</form>

<template id="board-template">
    <div class="board-item">
        <h3>{board-name}</h3>
        <button hx-delete="/api/boards/{board-uuid}"
                hx-target="#board-list"
                hx-swap="innerHTML"
                hx-confirm="Are you sure you want to delete this board?">
            Delete
        </button>
        <div class="item-list"
             hx-get="/api/boards/{board-uuid}"
             hx-trigger="load">
            Loading items...
        </div>
        <form hx-post="/api/items/"
              hx-target="closest .item-list"
              hx-swap="beforeend">
            <input type="hidden" name="board_uuid" value="{board-uuid}">
            <input type="text" name="name" placeholder="New item name" required>
            <button type="submit">Add Item</button>
        </form>
    </div>
</template>

<template id="item-template">
    <div class="item">
        <span>{item-name}</span>
        <button hx-get="/api/items/{item-uuid}"
                hx-target="closest .item"
                hx-swap="outerHTML">
            Edit
        </button>
        <button hx-delete="/api/boards/{board-uuid}"
                hx-target="#board-list"
                hx-swap="innerHTML"
                hx-confirm="Are you sure you want to delete this board?">
            Delete
        </button>

    </div>
</template>

</body>
</html>
